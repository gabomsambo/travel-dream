# Turso Database Configuration
# Copy this file to .env.local and fill in your actual values

# Turso Database URL - Get from: turso db show [db-name] --url
TURSO_DATABASE_URL=

# Turso Auth Token - Get from: turso db tokens create [db-name] -e none
TURSO_AUTH_TOKEN=

# Auth.js Configuration
# Generate secret: npx auth secret
AUTH_SECRET=
AUTH_URL=http://localhost:3000

# Google OAuth - Get from: https://console.cloud.google.com/apis/credentials
# Create OAuth 2.0 Client ID, add redirect URI: http://localhost:3000/api/auth/callback/google
AUTH_GOOGLE_ID=
AUTH_GOOGLE_SECRET=

# Environment
NODE_ENV=development

# Vercel Blob Storage
# Get token from: Vercel Dashboard → Storage → Create Blob Store → Connect to Project
# This enables direct client-side uploads that bypass serverless function limits
BLOB_READ_WRITE_TOKEN=

# Base URL for API calls (used by auto-trigger)
NEXT_PUBLIC_BASE_URL=http://localhost:8081

# App URL for share links (collections feature)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# LLM Provider Configuration
# OpenAI API Key - Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Anthropic API Key - Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# LLM Service Configuration
LLM_PROVIDER=openai
LLM_ENABLE_FALLBACK=true
LLM_MAX_CONCURRENT_EXTRACTIONS=3
LLM_TIMEOUT_MS=30000
LLM_RETRY_ATTEMPTS=3

# Google Gemini Vision Configuration (OCR replacement)
# Get API key: https://aistudio.google.com/ (500 free requests/day)
GOOGLE_GENERATIVE_AI_API_KEY=

# Feature flag to enable/disable Gemini vision
GEMINI_VISION_ENABLED=true

# Fallback to Tesseract if Gemini fails
GEMINI_FALLBACK_TO_TESSERACT=false

# Model selection (default: gemini-2.0-flash-exp)
# Options: gemini-2.0-flash-exp (highest free tier), gemini-2.5-flash (best accuracy)
GEMINI_MODEL=gemini-2.0-flash-exp

# Google Places API Configuration
# Get API key: https://console.cloud.google.com/apis/credentials
# Enable: Places API (must be enabled in Google Cloud Console)
# Note: This key is server-side only - never expose to client
GOOGLE_PLACES_API_KEY=∫

# Mapbox Configuration
# Get API key: https://account.mapbox.com/access-tokens/
# Note: This is a public token - exposed to client for map rendering
NEXT_PUBLIC_MAPBOX_TOKEN=

# Rate Limiting Configuration
LLM_RATE_LIMIT_PER_MINUTE=60
LLM_BURST_LIMIT=10

# Cost Control Configuration
LLM_DAILY_COST_LIMIT_USD=10.0
LLM_MONTHLY_COST_LIMIT_USD=300.0
LLM_WARN_COST_THRESHOLD_USD=8.0

# Redis Configuration (for rate limiting and cost tracking)
# OPTIONAL: Leave commented out to disable Redis (cost tracking will be in-memory only)
# To enable, sign up for Upstash Redis (https://upstash.com) and get REST API credentials
# NOTE: This is NOT compatible with Redis Cloud - requires Upstash specifically

# UPSTASH_REDIS_REST_URL=https://your-upstash-instance.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your_upstash_token_here

# Beta Tester IDs (comma-separated user IDs who get relaxed rate limits)
# Find user IDs in the 'users' table of your database
# Example: BETA_TESTER_IDS=usr_abc123,usr_def456
BETA_TESTER_IDS=

# Setup Instructions:
# 1. Install Turso CLI: curl -sSfL https://get.tur.so/install.sh | bash
# 2. Login: turso auth login
# 3. Create database: turso db create travel-dreams
# 4. Get URL: turso db show travel-dreams --url
# 5. Create token: turso db tokens create travel-dreams -e none
# 6. Get OpenAI API key: https://platform.openai.com/api-keys
# 7. Get Anthropic API key: https://console.anthropic.com/
# 8. Get Google Gemini API key: https://aistudio.google.com/ (500 free requests/day)
# 9. Setup Redis: https://upstash.com/ (for rate limiting)
# 10. Copy this file to .env.local and fill in the values above